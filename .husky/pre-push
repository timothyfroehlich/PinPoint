#!/bin/sh
echo "ğŸ” Running pre-push quality checks..."

# Run security checks with full git history scan
npm run security:check:push

# Run all quality checks in parallel (typecheck, lint, format, audit, test)
npm run validate

if [ $? -ne 0 ]; then
  echo "âŒ Quality checks failed. Fix issues before pushing."
  echo "ğŸ’¡ If intentionally pushing incomplete work, you may use --no-verify"
  exit 1
fi

echo "âœ… All pre-push quality checks passed!"
