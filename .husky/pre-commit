#!/bin/sh
echo "ğŸ” Scanning for secrets..."
gitleaks protect --staged --verbose

if [ $? -ne 0 ]; then
    echo "âŒ SECRET DETECTED! Commit blocked."
    echo "Remove secrets before committing."
    exit 1
fi

echo "ğŸ¨ Formatting staged files..."
npx lint-staged
