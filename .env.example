# Environment Variable Template for PinPoint
# 
# This template shows the structure for .env.local (your personal secrets file)
# 
# SETUP INSTRUCTIONS:
# 1. Copy this file to ".env.local" 
# 2. Fill in your actual secrets (marked with "your-*" placeholders)
# 3. The .env file provides safe defaults for all environments
# 4. Never commit .env.local - it's gitignored for security
#
# When adding additional environment variables, update the schema in "/src/env.js"

# =============================================================================
# ENVIRONMENT FILE HIERARCHY (Load Order)
# =============================================================================
#
# Next.js loads environment variables in this order (later files override earlier):
# 1. .env                    → Safe defaults for ALL environments  
# 2. .env.local              → Your personal secrets (THIS FILE - never commit)
# 3. Vercel/deployment vars  → Production/preview secrets (cloud services)
#
# WHICH FILE TO USE:
# - .env          → Public defaults everyone shares (PORT, API URLs, etc.)
# - .env.local    → Your personal secrets (AUTH_SECRET, real API keys)
# - Never edit    → .env.test (auto-generated for testing)
#
# =============================================================================

# =============================================================================
# SECRETS (Required in .env.local) 
# =============================================================================

# Authentication Secret
# Generate with: npx auth secret
# Required for both development and production
AUTH_SECRET="your-auth-secret-generate-with-npx-auth-secret"

# Google OAuth (get from Google Cloud Console)
# https://console.cloud.google.com/
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Supabase Cloud Database (for Vercel deployments only)
# Get these from Supabase Dashboard > Settings > API or Vercel integration
# https://supabase.com/docs/guides/integrations/vercel
NEXT_PUBLIC_SUPABASE_URL="https://your-project-ref.supabase.co"
# New naming (replaces legacy ANON key)
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY="sb_publishable_xxx"
# New naming/style (replaces legacy SERVICE_ROLE key); accepts sb_secret_* locally
SUPABASE_SECRET_KEY="sb_secret_xxx"

# Database connection URLs (Supabase provides these via Vercel integration)
POSTGRES_URL="postgres://<user>:<password>@<host>:6543/postgres"
POSTGRES_URL_NON_POOLING="postgres://<user>:<password>@<host>:5432/postgres"

# External API tokens
OPDB_API_TOKEN="your-opdb-api-token"
RESEND_API_KEY="your-resend-api-key"
UPLOADTHING_TOKEN="your-uploadthing-token"

# Optional API keys (for future features)
PINBALL_MAP_API_KEY="your-pinball-map-api-key"
OPDB_API_KEY="your-opdb-api-key"

# Image storage configuration
BLOB_READ_WRITE_TOKEN="your-vercel-blob-token"

# =============================================================================
# ENVIRONMENT CONFIGURATION NOTES
# =============================================================================
#
# Local Development:
#   - Uses .env (safe defaults) + .env.local (your secrets)
#   - Database: Local Supabase instance on standard ports (54321-54324)
#   - Dev features: Controlled via NEXT_PUBLIC_ENABLE_DEV_FEATURES
#   - Secrets: Your personal .env.local file (this template)
#
# CI/Test:
#   - Uses GitHub Actions secrets
#   - Database: Ephemeral PostgreSQL container
#   - Dev features: DISABLED
#
# Vercel Preview:
#   - Uses Vercel Preview environment variables  
#   - Database: Cloud Supabase (shared with production)
#   - Dev features: ENABLED (set in Vercel dashboard)
#
# Vercel Production:
#   - Uses Vercel Production environment variables
#   - Database: Cloud Supabase (shared with preview)
#   - Dev features: DISABLED (set in Vercel dashboard)
#
# =============================================================================

# The following variables are handled automatically:
# - PORT (defaults to 49200, set in .env)
# - ALPHA_ORG_ID (defaults to test-org-pinpoint for alpha)
# - ALPHA_ORG_SUBDOMAIN (defaults to apc for alpha)
# - IMAGE_STORAGE_PROVIDER (set in .env)
# - OPDB_API_URL (set in .env)
# - NEXT_PUBLIC_ENABLE_DEV_FEATURES (set in .env.local for development or Vercel dashboard for production)
# - NEXT_PUBLIC_VERCEL_ENV (auto-set by next.config.mjs)
# - VERCEL_URL (auto-set by Vercel)
