/* Tailwind v4: Single import replaces @tailwind directives */
@import "tailwindcss";

@custom-variant dark (&:is(.dark *));

/* === CSS LAYERS STRATEGY === */
/* Material UI v7 + Tailwind v4 coexistence */
@layer mui, tailwind-components, tailwind-utilities;

/* === TAILWIND V4 CONFIGURATION === */
@theme {
  /* Content is auto-detected in v4 */

  /* Container customization */
  --breakpoint-2xl: 1400px;

  /* shadcn/ui design system colors */
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  /* Border radius tokens */
  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  /* Animation keyframes */
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  @keyframes accordion-down {
    from { height: 0; }
    to { height: var(--radix-accordion-content-height); }
  }

  @keyframes accordion-up {
    from { height: var(--radix-accordion-content-height); }
    to { height: 0; }
  }
}

/* === CSS VARIABLES (shadcn/ui design tokens with PinPoint dark theme) === */
:root {
    /* PinPoint Dark Theme - matches the original dark blue/purple scheme */
    --background: 236 37% 9%;   /* #1a1a2e - Dark navy background */
    --foreground: 0 0% 98%;     /* #ffffff - White text */
    --card: 215 25% 19%;        /* #2d3748 - Darker blue-grey for cards */
    --card-foreground: 0 0% 98%; /* #ffffff - White card text */
    --popover: 215 25% 19%;
    --popover-foreground: 0 0% 98%;
    --primary: 247 53% 70%;     /* #667eea - Purple-blue primary */
    --primary-foreground: 0 0% 98%;
    --secondary: 240 50% 75%;   /* #a8b4f0 - Lighter purple secondary */
    --secondary-foreground: 236 37% 9%;
    --muted: 215 20% 22%;       /* Muted background */
    --muted-foreground: 215 16% 65%; /* #a0aec0 - Light grey muted text */
    --accent: 215 20% 22%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 65% 70%;   /* #f87171 - Red for errors */
    --destructive-foreground: 0 0% 98%;
    --border: 215 20% 30%;      /* Border color */
    --input: 215 20% 30%;       /* Input border */
    --ring: 247 53% 70%;        /* Focus ring */
    --radius: 0.5rem;
    --sidebar: 215 25% 19%;     /* Sidebar background */
    --sidebar-foreground: 0 0% 98%;
    --sidebar-primary: 247 53% 70%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 215 20% 25%;
    --sidebar-accent-foreground: 0 0% 98%;
    --sidebar-border: 215 20% 30%;
    --sidebar-ring: 247 53% 70%;
  }

.dark {
    /* Use the same PinPoint dark theme for .dark class */
    --background: 236 37% 9%;   /* #1a1a2e - Dark navy background */
    --foreground: 0 0% 98%;     /* #ffffff - White text */
    --card: 215 25% 19%;        /* #2d3748 - Darker blue-grey for cards */
    --card-foreground: 0 0% 98%;
    --popover: 215 25% 19%;
    --popover-foreground: 0 0% 98%;
    --primary: 247 53% 70%;     /* #667eea - Purple-blue primary */
    --primary-foreground: 0 0% 98%;
    --secondary: 240 50% 75%;   /* #a8b4f0 - Lighter purple secondary */
    --secondary-foreground: 236 37% 9%;
    --muted: 215 20% 22%;
    --muted-foreground: 215 16% 65%;
    --accent: 215 20% 22%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 65% 70%;
    --destructive-foreground: 0 0% 98%;
    --border: 215 20% 30%;
    --input: 215 20% 30%;
    --ring: 247 53% 70%;
    --sidebar: 215 25% 19%;
    --sidebar-foreground: 0 0% 98%;
    --sidebar-primary: 247 53% 70%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 215 20% 25%;
    --sidebar-accent-foreground: 0 0% 98%;
    --sidebar-border: 215 20% 30%;
    --sidebar-ring: 247 53% 70%;
}

/* === LAYER ISOLATION === */

/* Ensure MUI styles take precedence in mui layer */
@layer mui {
  /* MUI-specific overrides if needed */
  .MuiCssBaseline-root {
    /* Preserve MUI's CSS baseline - will be applied by MUI automatically */
  }
}

/* Utility classes for migration */
@layer tailwind-components {
  .mui-migration {
    /* Classes to help with MUI->Tailwind migration */
    @apply transition-all duration-200;
  }

  /* Bridge utility for gradual migration */
  .tw-reset {
    /* Reset MUI styles when needed */
    all: revert;
  }
}

@theme inline {
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}