# Test environment configuration
# This file contains environment variables specific to running tests
# It extends .env.development for local Supabase connections but adds test-specific overrides

# Test environment marker
NODE_ENV="test"

# Use local Supabase instance for integration tests
DATABASE_URL="postgresql://postgres:postgres@localhost:54322/postgres"
DIRECT_URL="postgresql://postgres:postgres@localhost:54322/postgres"
POSTGRES_URL_NON_POOLING="postgresql://postgres:postgres@localhost:54322/postgres"

# Supabase test configuration
NEXT_PUBLIC_SUPABASE_URL="http://localhost:54321"
SUPABASE_URL="http://localhost:54321"
SUPABASE_API_URL="http://localhost:54321"
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0" # gitleaks:allow - safe Supabase demo key for local development
SUPABASE_SECRET_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU" # gitleaks:allow - safe Supabase demo key for local development
SUPABASE_JWT_SECRET="super-secret-jwt-token-with-at-least-32-characters-long" # gitleaks:allow - safe Supabase demo key for local development

# Authentication test configuration
AUTH_SECRET="test-auth-secret-with-at-least-32-characters-for-testing-purposes"
NEXTAUTH_URL="http://localhost:3000"
PUBLIC_URL="http://localhost:3000"

# OAuth provider test credentials (safe test values)
GOOGLE_CLIENT_ID="test-google-client-id"
GOOGLE_CLIENT_SECRET="test-google-client-secret"

# OPDB API configuration for tests
OPDB_API_URL="https://opdb.org/api"
OPDB_API_KEY="test-token" # gitleaks:allow - safe test token
DEFAULT_ORG_SUBDOMAIN="apc"

# Storage configuration for tests
IMAGE_STORAGE_PROVIDER="local"

# Vercel configuration for tests
VERCEL_URL=""

# Test-specific feature flags
NEXT_PUBLIC_ENABLE_DEV_FEATURES="true"

# CI detection for conditional test behavior
CI="false"

# Test server port (different from dev to avoid conflicts)
PORT="49201"